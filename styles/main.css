/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Book & Notes Vault â€” Stylesheet v2
   Aesthetic: Refined Editorial Library â€” Warm Parchment & Deep Ink
   Fonts: Playfair Display Â· DM Mono Â· DM Sans
   Mobile-first Â· Breakpoints: 360px Â· 768px Â· 1024px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=DM+Mono:ital,wght@0,300;0,400;1,300&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&display=swap');

/* â”€â”€ Design Tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
:root {
  --bg:           #f7f2ea;
  --bg-card:      #fefcf7;
  --bg-input:     #ffffff;
  --bg-header:    #fefcf7;
  --surface:      #ede7d9;
  --surface-2:    #e3ddd0;
  --border:       #d0c4ad;
  --border-light: #e6dfd3;
  --border-focus: #7a5230;

  --ink:          #18100a;
  --ink-muted:    #5e4e37;
  --ink-faint:    #9e8c74;
  --ink-xfaint:   #c4b49c;

  --accent:        #8b3a1a;
  --accent-mid:    #b85c30;
  --accent-light:  #d47a4a;
  --accent-pale:   #f5dfd0;
  --accent-hover:  #6e2c12;

  --success:       #2d6a42;
  --success-pale:  #d4edd9;
  --danger:        #9b1f30;
  --danger-pale:   #fce8ea;
  --danger-hover:  #7c1826;

  --mark-bg:       #fae588;
  --mark-color:    #18100a;

  --shadow-xs:  0 1px 2px rgba(24,16,10,.06);
  --shadow-sm:  0 2px 6px rgba(24,16,10,.08), 0 1px 2px rgba(24,16,10,.04);
  --shadow:     0 4px 16px rgba(24,16,10,.10), 0 2px 4px rgba(24,16,10,.06);
  --shadow-lg:  0 12px 40px rgba(24,16,10,.14), 0 4px 8px rgba(24,16,10,.08);
  --shadow-inset: inset 0 1px 3px rgba(24,16,10,.08);

  --radius-sm:  4px;
  --radius:     8px;
  --radius-lg:  12px;
  --radius-xl:  18px;

  --font-display: 'Playfair Display', Georgia, 'Times New Roman', serif;
  --font-mono:    'DM Mono', 'Courier New', monospace;
  --font-body:    'DM Sans', system-ui, -apple-system, sans-serif;

  --ease-out:    cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --t-fast: 150ms ease;
  --t:      220ms ease;
  --t-slow: 380ms ease;
}

[data-theme="dark"] {
  --bg:           #0f0c07;
  --bg-card:      #19140d;
  --bg-input:     #211a11;
  --bg-header:    #19140d;
  --surface:      #261f14;
  --surface-2:    #2e2618;
  --border:       #3d3222;
  --border-light: #322a1c;
  --border-focus: #c87941;

  --ink:          #ede8df;
  --ink-muted:    #9e8c74;
  --ink-faint:    #5e4e37;
  --ink-xfaint:   #3d3222;

  --accent:        #c97a40;
  --accent-mid:    #e09458;
  --accent-light:  #eaaa72;
  --accent-pale:   #2a1e0e;
  --accent-hover:  #dfa060;

  --success:       #4aaa65;
  --success-pale:  #0e2018;
  --danger:        #d45060;
  --danger-pale:   #20080c;
  --danger-hover:  #e06070;

  --mark-bg:       #6b5000;
  --mark-color:    #ede8df;

  --shadow-xs:  0 1px 2px rgba(0,0,0,.25);
  --shadow-sm:  0 2px 6px rgba(0,0,0,.35), 0 1px 2px rgba(0,0,0,.2);
  --shadow:     0 4px 16px rgba(0,0,0,.45), 0 2px 4px rgba(0,0,0,.25);
  --shadow-lg:  0 12px 40px rgba(0,0,0,.55), 0 4px 8px rgba(0,0,0,.3);
  --shadow-inset: inset 0 1px 3px rgba(0,0,0,.3);
}

/* â”€â”€ Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { font-size: 16px; scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }

body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--ink);
  line-height: 1.65;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  transition: background var(--t-slow), color var(--t-slow);
  background-image:
    radial-gradient(ellipse at 15% 0%, rgba(185,130,80,.07) 0%, transparent 55%),
    radial-gradient(ellipse at 85% 100%, rgba(130,80,40,.05) 0%, transparent 55%);
}

/* â”€â”€ Accessibility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.skip-link {
  position: absolute;
  top: -999px;
  left: 1rem;
  background: var(--accent);
  color: #fff;
  padding: .55rem 1.1rem;
  border-radius: var(--radius);
  font-weight: 600;
  font-size: .85rem;
  z-index: 9999;
  text-decoration: none;
  letter-spacing: .02em;
  box-shadow: var(--shadow);
}
.skip-link:focus { top: 1rem; outline: 3px solid var(--accent-light); outline-offset: 3px; }

.sr-only {
  position: absolute; width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.site-header {
  background: var(--bg-header);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 200;
  box-shadow: var(--shadow-sm);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.header-inner {
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 1.25rem;
  height: 62px;
  display: flex;
  align-items: center;
  gap: 1.5rem;
}

.logo {
  display: flex;
  align-items: center;
  gap: .6rem;
  text-decoration: none;
  flex-shrink: 0;
}
.logo-icon { font-size: 1.6rem; line-height: 1; filter: drop-shadow(0 1px 2px rgba(24,16,10,.15)); }
.logo-text { font-family: var(--font-display); line-height: 1.1; color: var(--ink); font-size: .95rem; }
.logo-text em { font-style: italic; color: var(--accent); }
.logo-text small {
  display: block;
  font-family: var(--font-mono);
  font-size: .58rem;
  letter-spacing: .2em;
  text-transform: uppercase;
  color: var(--ink-faint);
  margin-top: 1px;
}

.main-nav { flex: 1; overflow: hidden; }
.main-nav ul {
  list-style: none;
  display: flex;
  gap: .15rem;
  overflow-x: auto;
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
}
.main-nav ul::-webkit-scrollbar { display: none; }

.nav-link {
  display: block;
  padding: .5rem .85rem;
  font-size: .8rem;
  font-weight: 500;
  letter-spacing: .025em;
  text-decoration: none;
  color: var(--ink-muted);
  border-radius: var(--radius-sm);
  white-space: nowrap;
  transition: color var(--t), background var(--t);
  position: relative;
}
.nav-link::after {
  content: '';
  position: absolute;
  bottom: -1px; left: .85rem; right: .85rem;
  height: 2px;
  background: var(--accent);
  border-radius: 2px 2px 0 0;
  opacity: 0;
  transform: scaleX(0);
  transition: opacity var(--t), transform var(--t) var(--ease-out);
}
.nav-link:hover { color: var(--ink); background: var(--surface); }
.nav-link.active { color: var(--accent); background: var(--accent-pale); font-weight: 600; }
.nav-link.active::after { opacity: 1; transform: scaleX(1); }
.nav-link:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 2px; }

.theme-toggle {
  flex-shrink: 0;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 50%;
  width: 38px; height: 38px;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.05rem;
  color: var(--ink);
  transition: background var(--t), transform var(--t) var(--ease-spring), box-shadow var(--t);
}
.theme-toggle:hover { background: var(--surface-2); transform: rotate(18deg) scale(1.05); box-shadow: var(--shadow-sm); }
.theme-toggle:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 3px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN / SECTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
main {
  flex: 1;
  max-width: 1280px;
  width: 100%;
  margin: 0 auto;
  padding: 1.75rem 1.25rem 3rem;
}

.page-section { display: none; }
.page-section.active { display: block; }

.section-inner { animation: section-in 320ms var(--ease-out) both; }

@keyframes section-in {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

.section-title {
  font-family: var(--font-display);
  font-size: clamp(1.75rem, 4vw, 2.6rem);
  font-weight: 700;
  color: var(--ink);
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  position: relative;
  line-height: 1.2;
}
.section-title::after {
  content: '';
  position: absolute;
  bottom: 0; left: 0;
  width: 2.5rem; height: 3px;
  background: linear-gradient(90deg, var(--accent), var(--accent-light));
  border-radius: 3px;
}

.subsection-title {
  font-family: var(--font-display);
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--ink);
  margin-bottom: .875rem;
  letter-spacing: -.01em;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DASHBOARD â€” STAT CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
  margin-bottom: 1.75rem;
}

.stat-card {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 1.5rem 1.25rem 1.25rem;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  box-shadow: var(--shadow-sm);
  transition: transform var(--t) var(--ease-out), box-shadow var(--t);
  position: relative;
  overflow: hidden;
  animation: card-in 420ms var(--ease-out) both;
}
.stat-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent), var(--accent-light));
  opacity: 0;
  transition: opacity var(--t);
}
.stat-card:hover { transform: translateY(-3px); box-shadow: var(--shadow); }
.stat-card:hover::before { opacity: 1; }

.stat-card:nth-child(1) { animation-delay: 40ms; }
.stat-card:nth-child(2) { animation-delay: 90ms; }
.stat-card:nth-child(3) { animation-delay: 140ms; }
.stat-card:nth-child(4) { animation-delay: 190ms; }

@keyframes card-in {
  from { opacity: 0; transform: translateY(12px) scale(.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

.stat-value {
  font-family: var(--font-mono);
  font-size: clamp(1.8rem, 5vw, 2.6rem);
  font-weight: 300;
  color: var(--accent);
  line-height: 1;
  margin-bottom: .5rem;
  letter-spacing: -.02em;
}
.stat-label {
  font-size: .7rem;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: var(--ink-faint);
  font-weight: 500;
}

/* â”€â”€ Progress / Cap â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cap-container {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  margin-bottom: 1.75rem;
  box-shadow: var(--shadow-sm);
}
.cap-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: .5rem;
  margin-bottom: 1rem;
}
.cap-value-display {
  font-family: var(--font-mono);
  font-size: .82rem;
  color: var(--ink-faint);
  background: var(--surface);
  padding: .2rem .65rem;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-light);
}
.progress-bar-wrap {
  background: var(--surface);
  border-radius: 99px;
  height: 8px;
  overflow: hidden;
  margin-bottom: .65rem;
  box-shadow: var(--shadow-inset);
}
.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent-light));
  border-radius: 99px;
  width: 0%;
  transition: width 700ms var(--ease-out), background 300ms ease;
}
.progress-bar-fill.over { background: linear-gradient(90deg, var(--danger), #e05570); }
.cap-status { font-size: .8rem; color: var(--ink-faint); font-style: italic; min-height: 1.3em; }
.cap-status.exceeded { color: var(--danger); font-weight: 600; font-style: normal; }

/* â”€â”€ Charts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.chart-container,
.tag-breakdown {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  margin-bottom: 1.75rem;
  box-shadow: var(--shadow-sm);
}
.bar-chart {
  display: flex;
  align-items: flex-end;
  gap: 6px;
  height: 90px;
  padding-top: .5rem;
}
.bar-day {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  gap: 5px;
}
.bar-fill {
  width: 100%;
  background: linear-gradient(180deg, var(--accent-light), var(--accent));
  border-radius: var(--radius-sm) var(--radius-sm) 0 0;
  min-height: 3px;
  position: relative;
  transition: opacity var(--t);
  cursor: default;
}
.bar-fill:hover { opacity: .75; }
.bar-fill:hover::after {
  content: attr(data-count) ' added';
  position: absolute;
  bottom: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--ink);
  color: var(--bg);
  font-family: var(--font-mono);
  font-size: .62rem;
  padding: 3px 7px;
  border-radius: var(--radius-sm);
  white-space: nowrap;
  pointer-events: none;
  box-shadow: var(--shadow-sm);
}
.bar-label { font-size: .6rem; color: var(--ink-xfaint); font-family: var(--font-mono); letter-spacing: .05em; }

.tag-bar-row { display: flex; align-items: center; gap: .75rem; margin-bottom: .625rem; }
.tag-bar-name { font-family: var(--font-mono); font-size: .75rem; width: 110px; flex-shrink: 0; color: var(--ink-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.tag-bar-track { flex: 1; background: var(--surface); border-radius: 99px; height: 7px; overflow: hidden; box-shadow: var(--shadow-inset); }
.tag-bar-fill { height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent-light)); border-radius: 99px; transition: width 650ms var(--ease-out); }
.tag-bar-count { font-family: var(--font-mono); font-size: .72rem; color: var(--ink-faint); width: 2.25rem; text-align: right; flex-shrink: 0; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CATALOG CONTROLS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.catalog-controls {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  margin-bottom: 1.25rem;
  box-shadow: var(--shadow-xs);
  display: flex;
  flex-direction: column;
  gap: .875rem;
}

.search-wrap {
  display: flex;
  align-items: center;
  gap: .5rem;
  position: relative;
}
.search-input {
  flex: 1;
  padding: .65rem 1rem .65rem 2.6rem;
  font-family: var(--font-mono);
  font-size: .85rem;
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  color: var(--ink);
  transition: border-color var(--t), box-shadow var(--t);
  box-shadow: var(--shadow-inset);
}
.search-input::placeholder { color: var(--ink-xfaint); }
.search-input:focus { outline: none; border-color: var(--border-focus); box-shadow: 0 0 0 3px rgba(122,82,48,.12), var(--shadow-inset); }

.search-icon { position: absolute; left: .8rem; top: 50%; transform: translateY(-50%); font-size: 1.1rem; color: var(--ink-faint); pointer-events: none; }

.toggle-label {
  display: flex;
  align-items: center;
  gap: .3rem;
  font-size: .75rem;
  font-family: var(--font-mono);
  color: var(--ink-muted);
  cursor: pointer;
  user-select: none;
  white-space: nowrap;
  padding: .4rem .65rem;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-light);
  background: var(--surface);
  transition: background var(--t), border-color var(--t);
}
.toggle-label:hover { background: var(--surface-2); }
.toggle-label input { accent-color: var(--accent); }

.hint-text { font-size: .7rem; color: var(--ink-xfaint); font-style: italic; }

.sort-wrap, .filter-wrap { display: flex; gap: .5rem; align-items: center; }

.sort-select {
  padding: .5rem .75rem;
  font-size: .8rem;
  font-family: var(--font-body);
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  color: var(--ink);
  cursor: pointer;
  box-shadow: var(--shadow-xs);
  min-width: 120px;
  transition: border-color var(--t);
}
.sort-select:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 2px; }

.io-wrap { display: flex; flex-wrap: wrap; gap: .5rem; }

.record-count {
  font-family: var(--font-mono);
  font-size: .75rem;
  color: var(--ink-faint);
  margin-bottom: .875rem;
}

/* Controls divider */
.controls-divider { width: 100%; height: 1px; background: var(--border-light); }
.controls-row { display: flex; flex-wrap: wrap; gap: .5rem; align-items: center; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TABLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.table-wrap {
  overflow-x: auto;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-light);
  box-shadow: var(--shadow-sm);
  background: var(--bg-card);
  -webkit-overflow-scrolling: touch;
}
.table-wrap:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 2px; }

table { width: 100%; border-collapse: collapse; font-size: .85rem; }

thead { background: var(--surface); border-bottom: 2px solid var(--border); }

th {
  font-family: var(--font-mono);
  font-size: .68rem;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: var(--ink-faint);
  padding: .875rem 1.125rem;
  text-align: left;
  white-space: nowrap;
  font-weight: 400;
  user-select: none;
}

td {
  padding: .9rem 1.125rem;
  border-bottom: 1px solid var(--border-light);
  vertical-align: middle;
  color: var(--ink);
}

tbody tr:last-child td { border-bottom: none; }
tbody tr { transition: background var(--t-fast); }
tbody tr:hover td { background: var(--surface); }

.td-title { font-weight: 600; font-size: .88rem; line-height: 1.3; }
.td-author { font-family: var(--font-display); font-style: italic; font-size: .8rem; color: var(--ink-muted); margin-top: 2px; }
.isbn-meta { font-family: var(--font-mono); font-size: .68rem; color: var(--ink-xfaint); margin-top: 2px; }

.td-pages { font-family: var(--font-mono); font-size: .85rem; text-align: right; color: var(--ink-muted); }

.tag-pill {
  display: inline-flex;
  align-items: center;
  background: var(--accent-pale);
  border: 1px solid rgba(139,58,26,.15);
  border-radius: 99px;
  padding: .2rem .65rem;
  font-size: .7rem;
  font-family: var(--font-mono);
  color: var(--accent);
  white-space: nowrap;
}
[data-theme="dark"] .tag-pill { background: rgba(201,122,64,.12); border-color: rgba(201,122,64,.25); }

.td-date { font-family: var(--font-mono); font-size: .76rem; color: var(--ink-faint); white-space: nowrap; }
.td-actions { white-space: nowrap; }
.td-actions-inner { display: flex; gap: .35rem; }

mark { background: var(--mark-bg); color: var(--mark-color); border-radius: 2px; padding: 0 2px; }

.empty-state {
  text-align: center;
  padding: 4rem 1.5rem;
  color: var(--ink-faint);
}
.empty-state::before { content: 'ğŸ“­'; display: block; font-size: 2.5rem; margin-bottom: .75rem; opacity: .5; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.book-cards { display: block; }

.book-card {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 1.125rem;
  margin-bottom: .75rem;
  box-shadow: var(--shadow-xs);
  animation: card-in 220ms var(--ease-out) both;
  transition: box-shadow var(--t), transform var(--t);
}
.book-card:hover { box-shadow: var(--shadow-sm); transform: translateY(-1px); }

.book-card-title { font-family: var(--font-display); font-weight: 700; font-size: 1rem; color: var(--ink); margin-bottom: .15rem; line-height: 1.3; }
.book-card-author { font-family: var(--font-display); font-style: italic; font-size: .82rem; color: var(--ink-muted); margin-bottom: .75rem; }
.book-card-meta {
  display: flex; flex-wrap: wrap; gap: .5rem .75rem;
  font-family: var(--font-mono); font-size: .74rem; color: var(--ink-muted);
  margin-bottom: .875rem; padding-bottom: .875rem;
  border-bottom: 1px solid var(--border-light);
}
.book-card-actions { display: flex; gap: .5rem; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUTTONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .3rem;
  padding: .5rem 1rem;
  font-size: .8rem;
  font-weight: 500;
  font-family: var(--font-body);
  letter-spacing: .02em;
  border-radius: var(--radius);
  border: 1px solid transparent;
  cursor: pointer;
  text-decoration: none;
  white-space: nowrap;
  -webkit-tap-highlight-color: transparent;
  transition: background var(--t-fast), color var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast), transform 100ms ease;
}
.btn:active { transform: scale(.96); }
.btn:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 2px; }

.btn-primary {
  background: var(--accent); color: #fff; border-color: var(--accent);
  box-shadow: 0 1px 3px rgba(139,58,26,.3), 0 1px 1px rgba(0,0,0,.08);
}
.btn-primary:hover { background: var(--accent-hover); border-color: var(--accent-hover); box-shadow: 0 2px 6px rgba(139,58,26,.35); }

.btn-secondary {
  background: var(--bg-card); color: var(--ink-muted); border-color: var(--border);
  box-shadow: var(--shadow-xs);
}
.btn-secondary:hover { background: var(--surface); color: var(--ink); }

.btn-ghost { background: transparent; color: var(--ink-muted); border-color: transparent; }
.btn-ghost:hover { background: var(--surface); color: var(--ink); }

.btn-danger {
  background: var(--danger); color: #fff; border-color: var(--danger);
  box-shadow: 0 1px 3px rgba(155,31,48,.3);
}
.btn-danger:hover { background: var(--danger-hover); border-color: var(--danger-hover); }

.btn-sm { padding: .3rem .65rem; font-size: .74rem; border-radius: var(--radius-sm); }

.link-btn { background: none; border: none; color: var(--accent); cursor: pointer; text-decoration: underline; text-underline-offset: 2px; font-size: inherit; font-family: inherit; padding: 0; }
.link-btn:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 2px; border-radius: 2px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FORM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.book-form {
  max-width: 740px;
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 2rem;
  box-shadow: var(--shadow-sm);
}

.form-row { display: grid; grid-template-columns: 1fr; gap: 1.125rem; margin-bottom: 1.125rem; }

.field-group { display: flex; flex-direction: column; gap: .3rem; }
.field-group--full { grid-column: 1 / -1; }

.field-label { font-size: .72rem; font-weight: 600; color: var(--ink-muted); letter-spacing: .07em; text-transform: uppercase; }
.field-label span[aria-hidden] { color: var(--danger); margin-left: 2px; }

.field-input {
  width: 100%;
  padding: .65rem .875rem;
  font-size: .9rem;
  font-family: var(--font-body);
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  color: var(--ink);
  box-shadow: var(--shadow-inset);
  transition: border-color var(--t), box-shadow var(--t);
  appearance: none;
  -webkit-appearance: none;
}
.field-input::placeholder { color: var(--ink-xfaint); font-size: .87rem; }
.field-input:focus { outline: none; border-color: var(--border-focus); box-shadow: 0 0 0 3px rgba(122,82,48,.12), var(--shadow-inset); }
.field-input.invalid { border-color: var(--danger); background: var(--danger-pale); }
.field-input.invalid:focus { box-shadow: 0 0 0 3px rgba(155,31,48,.12), var(--shadow-inset); }
.field-input.valid { border-color: var(--success); }

.field-textarea { resize: vertical; min-height: 90px; line-height: 1.6; }

.field-error { font-size: .74rem; color: var(--danger); font-weight: 500; min-height: 1.1em; }
.field-error:not(:empty)::before { content: 'âš  '; }

.form-actions { display: flex; flex-wrap: wrap; gap: .75rem; margin-top: 1.75rem; padding-top: 1.5rem; border-top: 1px solid var(--border-light); }

.form-status-msg { margin-top: 1rem; font-size: .84rem; color: var(--success); font-style: italic; min-height: 1.4em; }
.form-status-msg:not(:empty)::before { content: 'âœ“  '; font-style: normal; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SETTINGS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.settings-grid { display: grid; grid-template-columns: 1fr; gap: 1.125rem; max-width: 740px; }

.settings-card {
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  box-shadow: var(--shadow-sm);
  display: flex; flex-direction: column; gap: 1rem;
}
.settings-card--danger { border-color: rgba(155,31,48,.3); background: var(--danger-pale); }
[data-theme="dark"] .settings-card--danger { background: rgba(155,31,48,.06); }
.settings-card--danger .subsection-title { color: var(--danger); }
.settings-card--danger p { font-size: .85rem; color: var(--ink-muted); line-height: 1.55; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ABOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.about-inner { max-width: 680px; }
.about-card { background: var(--bg-card); border: 1px solid var(--border-light); border-radius: var(--radius-lg); padding: 2rem; box-shadow: var(--shadow-sm); }

.about-lead {
  font-size: .95rem;
  line-height: 1.75;
  margin-bottom: 1.5rem;
  color: var(--ink-muted);
  border-left: 3px solid var(--accent);
  padding-left: 1rem;
}
.about-lead strong { color: var(--ink); }

.about-card ul { list-style: none; margin-bottom: 1.5rem; display: flex; flex-direction: column; gap: .35rem; }
.about-card ul li { position: relative; padding: .3rem 0 .3rem 1.3rem; font-size: .88rem; color: var(--ink-muted); line-height: 1.5; }
.about-card ul li::before { content: 'â€º'; position: absolute; left: 0; color: var(--accent); font-size: 1.1rem; line-height: 1.35; font-family: var(--font-display); }

.about-link { color: var(--accent); text-underline-offset: 2px; }
.about-link:hover { color: var(--accent-hover); }
.about-link:focus-visible { outline: 2px solid var(--border-focus); outline-offset: 2px; border-radius: 2px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONFIRM DIALOG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.dialog-overlay {
  position: fixed; inset: 0;
  background: rgba(10,7,4,.55);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);
  display: flex; align-items: center; justify-content: center;
  z-index: 1000;
  padding: 1.5rem;
  animation: overlay-in 180ms ease;
}
@keyframes overlay-in { from { opacity: 0; } to { opacity: 1; } }

.dialog-box {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: 2rem;
  max-width: 440px; width: 100%;
  box-shadow: var(--shadow-lg);
  animation: dialog-in 250ms var(--ease-spring);
}
@keyframes dialog-in { from { opacity: 0; transform: scale(.94) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }

.dialog-title { font-family: var(--font-display); font-size: 1.25rem; font-weight: 700; margin-bottom: .625rem; color: var(--ink); }
.dialog-msg { font-size: .88rem; color: var(--ink-muted); line-height: 1.6; margin-bottom: 1.5rem; }
.dialog-actions { display: flex; gap: .75rem; justify-content: flex-end; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INLINE EDIT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.edit-row td { background: var(--surface) !important; padding: .6rem 1.125rem !important; }
.edit-input {
  width: 100%; padding: .35rem .6rem; font-size: .84rem; font-family: var(--font-body);
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--ink);
  transition: border-color var(--t);
}
.edit-input:focus { outline: none; border-color: var(--border-focus); box-shadow: 0 0 0 2px rgba(122,82,48,.1); }
.book-card.editing { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(139,58,26,.1), var(--shadow-sm); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.site-footer {
  border-top: 1px solid var(--border-light);
  padding: 1.25rem 1.5rem;
  text-align: center;
  font-family: var(--font-mono);
  font-size: .7rem;
  color: var(--ink-xfaint);
  letter-spacing: .04em;
}

/* Search error */
#search-error { font-size: .74rem; color: var(--danger); min-height: 1.1em; font-weight: 500; }
#search-error:not(:empty)::before { content: 'âš  '; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BREAKPOINT â€” 768px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (min-width: 768px) {
  main { padding: 2rem 2rem 4rem; }
  .header-inner { padding: 0 2rem; }

  .stats-grid { grid-template-columns: repeat(4, 1fr); gap: 1.25rem; }

  .catalog-controls {
    display: grid;
    grid-template-columns: 1fr auto;
    grid-template-areas:
      "search toggle"
      "hint   hint"
      "div    div"
      "ctrl   ctrl";
    gap: .625rem;
    align-items: start;
  }
  .search-wrap     { grid-area: search; }
  .toggle-label    { grid-area: toggle; justify-self: end; }
  .hint-text       { grid-area: hint; }
  .controls-divider{ grid-area: div; }
  .controls-row    { grid-area: ctrl; }

  .form-row { grid-template-columns: 1fr 1fr; }
  .settings-grid { grid-template-columns: 1fr 1fr; }
  .settings-card:last-child { grid-column: 1 / -1; }

  .bar-chart { height: 110px; gap: 8px; }

  .table-wrap { display: block; }
  .book-cards { display: none; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BREAKPOINT â€” 1024px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (min-width: 1024px) {
  main { padding: 2.5rem 3rem 5rem; }
  .header-inner { padding: 0 3rem; gap: 2rem; }
  .stats-grid { gap: 1.5rem; }
  .settings-grid { grid-template-columns: repeat(3, 1fr); }
  .settings-card:last-child { grid-column: auto; }
  .bar-chart { height: 130px; }
  .book-form { padding: 2.5rem; }
  .about-card { padding: 2.5rem; }
}

/* â”€â”€ Mobile only â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 767px) {
  .table-wrap { display: none; }
  .book-cards { display: block; }
  .io-wrap { width: 100%; }
  .io-wrap .btn { flex: 1; justify-content: center; font-size: .75rem; }
}